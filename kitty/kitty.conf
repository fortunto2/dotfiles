# ~/.config/kitty/kitty.conf
# Simple setup: Kitty + Neovim + Claude Code

# Font (Nerd Font для иконок в nvim)
font_family      JetBrainsMono Nerd Font
font_size        14.0

# Clipboard
clipboard_control write-clipboard write-primary read-clipboard read-primary

# Mouse actions
copy_on_select clipboard
mouse_map right press ungrabbed paste_from_clipboard
mouse_map middle press ungrabbed paste_from_clipboard

# Copy/Paste (English + Russian)
map cmd+v paste_from_clipboard
map cmd+c copy_to_clipboard
map cmd+м paste_from_clipboard
map cmd+с copy_to_clipboard
map ctrl+v paste_from_clipboard
map ctrl+м paste_from_clipboard
map ctrl+shift+v paste_from_clipboard
map ctrl+shift+м paste_from_clipboard

# Ctrl+C interrupt (English + Russian)
map ctrl+с send_text all \x03

# Performance
repaint_delay    10
input_delay      3
sync_to_monitor  yes

# Theme - Warm Night (no blue, меньше мелатонина жрёт)
background       #1a1610
foreground       #d4c4a5
cursor           #e8b059
selection_background #3d3528

# Colors - warm palette
color0  #2d2820
color8  #4a4235
color1  #c25d47
color9  #d4735d
color2  #8fa55a
color10 #a3b86c
color3  #d4a656
color11 #e8b86a
color4  #8a7a5c
color12 #a08d6e
color5  #b88a6a
color13 #cca080
color6  #7a9a6a
color14 #8eb07e
color7  #c4b495
color15 #d4c4a5

# Window
window_padding_width 8
placement_strategy top-left
remember_window_size yes

# Tab bar with hotkey hints at bottom
tab_bar_style custom
tab_bar_edge bottom
tab_bar_min_tabs 1
tab_title_template "{index}: {title}"
active_tab_title_template "{index}: {title}"
tab_bar_margin_height 0 0

# Quit Kitty (English + Russian)
map cmd+q quit
map cmd+й quit

# New OS window (English + Russian)
map cmd+n new_os_window_with_cwd
map cmd+т new_os_window_with_cwd

# Tabs (English + Russian)
map cmd+t new_tab_with_cwd
map cmd+е new_tab_with_cwd
map cmd+w close_window
map cmd+ц close_window
map cmd+1 goto_tab 1
map cmd+2 goto_tab 2
map cmd+3 goto_tab 3

# Splits (English + Russian)
map cmd+d launch --location=vsplit --cwd=current
map cmd+в launch --location=vsplit --cwd=current
map cmd+shift+d launch --location=hsplit --cwd=current
map cmd+shift+в launch --location=hsplit --cwd=current
map cmd+return launch --location=hsplit --cwd=current

# Switch between splits
map cmd+alt+left neighboring_window left
map cmd+alt+right neighboring_window right
map cmd+alt+up neighboring_window up
map cmd+alt+down neighboring_window down
map cmd+[ previous_window
map cmd+] next_window
map cmd+х previous_window
map cmd+ъ next_window
map ctrl+tab next_window
map ctrl+shift+tab previous_window

# Resize splits
map cmd+alt+shift+left resize_window narrower 3
map cmd+alt+shift+right resize_window wider 3

# Close tab (English + Russian)
map cmd+shift+w close_tab
map cmd+shift+ц close_tab

# Shift+Enter for Claude Code multiline
map shift+enter send_text all \n

# Quick file tree - Cmd+E or Ctrl+E (English + Russian)
map cmd+e launch --type=overlay --cwd=current /opt/homebrew/bin/nvim +Neotree
map cmd+у launch --type=overlay --cwd=current /opt/homebrew/bin/nvim +Neotree
map ctrl+e launch --type=overlay --cwd=current /opt/homebrew/bin/nvim +Neotree
map ctrl+у launch --type=overlay --cwd=current /opt/homebrew/bin/nvim +Neotree

# Quick Claude Code (English + Russian)
map cmd+k launch --location=vsplit --cwd=current zsh -ic "claude --dangerously-skip-permissions"
map cmd+л launch --location=vsplit --cwd=current zsh -ic "claude --dangerously-skip-permissions"

# macOS Option key fix
macos_option_as_alt yes

# Default session
startup_session ~/.config/kitty/startup.conf

# Save current layout (English + Russian)
map cmd+shift+s launch --type=background sh -c "kitty @ ls > ~/.config/kitty/last_session.json && osascript -e 'display notification \"Session saved\" with title \"Kitty\"'"
map cmd+shift+ы launch --type=background sh -c "kitty @ ls > ~/.config/kitty/last_session.json && osascript -e 'display notification \"Session saved\" with title \"Kitty\"'"

# Select all (English + Russian)
map cmd+a select_all
map cmd+ф select_all
